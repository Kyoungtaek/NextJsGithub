{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport fetch from 'isomorphic-unfetch';\nimport Profile from '../../components/Profile';\nimport formatDistance from 'date-fns/formatDistance';\nconst style = [\"a.jsx-1857071337{-webkit-text-decoration:none;text-decoration:none;}\", \".user-contents-wrapper.jsx-1857071337{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:20px;}\", \".repos-wrapper.jsx-1857071337{width:100%;height:100vh;overflow:scroll;padding:0px 16px;}\", \".repos-header.jsx-1857071337{padding:16px 0;font-size:14px;font-weight:600;border-bottom:1px solid #e1e4e8;}\", \".repos-count.jsx-1857071337{display:inline-block;padding:2px 5px;margin-left:6px;font-size:12px;font-weight:600;line-height:1;color:#586069;background-color:rgba(27,31,35,0.08);border-radius:20px;}\", \".repository-wrapper.jsx-1857071337{width:100%;border-bottom\\\":1px solid #e1e4e8;    padding: 24px 0;  }  .repository-description{    padding: 12px 0;  }   .repository-name{    margin:0;    color: #0366d6;    font-size: 20px;    display: inline-block;    curosr: pointer;  }  .repository-name:hover{    text-decoration: underline;  }  .repository-description{    margin:0;    font-size: 14px;  }  .repository-language{    margin:0;    font-size: 14px;  }  .repository-updated-at{    margin-left: 20px;  };}\"];\nstyle.__hash = \"1857071337\";\n\nconst name = ({\n  user,\n  repos\n}) => {\n  if (!user) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: `jsx-${style.__hash}` + \" \" + \"user-contents-wrapper\",\n    children: [/*#__PURE__*/_jsx(Profile, {\n      user: user\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: `jsx-${style.__hash}` + \" \" + \"repos-wrapper\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: `jsx-${style.__hash}` + \" \" + \"repos-header\",\n        children: [\"Repositories\", /*#__PURE__*/_jsx(\"span\", {\n          className: `jsx-${style.__hash}` + \" \" + \"repos-count\",\n          children: user.public_repos\n        })]\n      }), user && repos && repos.map(repo => /*#__PURE__*/_jsxs(\"div\", {\n        className: `jsx-${style.__hash}` + \" \" + \"repository-wrapper\",\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          target: \"_blank\",\n          rel: \"norefferer\",\n          href: `https://github.com/${user.login}/${repo.name}`,\n          className: `jsx-${style.__hash}`,\n          children: /*#__PURE__*/_jsx(\"h2\", {\n            className: `jsx-${style.__hash}` + \" \" + \"repository-name\",\n            children: repo.name\n          })\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: `jsx-${style.__hash}` + \" \" + \"repository-description\",\n          children: repo.description\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: `jsx-${style.__hash}` + \" \" + \"repository-language\",\n          children: [repo.language, /*#__PURE__*/_jsx(\"span\", {\n            className: `jsx-${style.__hash}` + \" \" + \"repository-updated-at\",\n            children: formatDistance(new Date(repo.updated_at), new Date(), {\n              addSuffix: true\n            })\n          })]\n        })]\n      }, repo.id))]\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: style.__hash,\n      children: style\n    })]\n  });\n};\n\nexport const getServerSideProps = async ({\n  query\n}) => {\n  const {\n    name\n  } = query;\n\n  try {\n    let user;\n    let repos;\n    const userRes = await fetch(`https://api.github.com/users/${name}`);\n\n    if (userRes.status === 200) {\n      user = await userRes.json();\n    }\n\n    const repoRes = await fetch(`https://api.github.com/users/${name}/repos?sort=updated&page=1&per_page=10`);\n\n    if (repoRes.status === 200) {\n      repos = await repoRes.json();\n    }\n\n    console.log(repos);\n    return {\n      props: {\n        user,\n        repos\n      }\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      props: {}\n    };\n  }\n};\nexport default name;","map":null,"metadata":{},"sourceType":"module"}